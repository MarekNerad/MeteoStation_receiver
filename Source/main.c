//******************************************************************************
//! \file        main.c
//! \date        12-02-2023
//! \author      Nerad
//! \brief       <MODULE_DESCRIPTION>
//******************************************************************************
//   This module is classified as QM.
//******************************************************************************

//******************************************************************************
//                      Include
//******************************************************************************
#include <stdlib.h>
#include <string.h>
#include <avr/io.h>
#include <avr/interrupt.h>
#define F_CPU 8000000UL
#include <util/delay.h>
#include <avr/sleep.h>

#include "Lcd.h"
#include "Ds18b20.h"

//******************************************************************************
//                      Define
//******************************************************************************

//******************************************************************************
//                      Define with parameter
//******************************************************************************

//******************************************************************************
//                      Enumeration
//******************************************************************************

//******************************************************************************
//                      Structure
//******************************************************************************

//******************************************************************************
//                      Typedef
//******************************************************************************

//******************************************************************************
//                      Declaration of static function
//******************************************************************************

//******************************************************************************
//                      Definition & Declaration of global variable
//******************************************************************************

//******************************************************************************
//                      Definition & Declaration of static variable
//******************************************************************************

//******************************************************************************
//                      Definition of static function
//******************************************************************************

//******************************************************************************
//                      Definition of global function
//******************************************************************************

void lcd_menu(void)
{
	lcd_gotoxy(0,1);
	lcd_string("T_in:");
	lcd_gotoxy(5,1);
	lcd_int(teplota);
	lcd_string(".");
	lcd_int(desetiny);
	
	//lcd_gotoxy(0,2);
	//lcd_string("T_out:");
	//lcd_gotoxy(6,2);
	//lcd_int(temp/100);
	//lcd_string(",");
	//lcd_int(abs(temp%100));
	
	//lcd_gotoxy(0,3);
	//lcd_string("Hum_out:");
	//lcd_gotoxy(8,3);
	//lcd_int(humi/10);
	//lcd_string(",");
	//lcd_int(abs(humi%10));
	
	/*lcd_gotoxy(0,4);
	lcd_string("Press:");
	lcd_gotoxy(6,4);
	lcd_int(press);*/	
	
	//lcd_gotoxy(10,1);
	//lcd_string("Dew:");
	//lcd_gotoxy(15,1);
	//lcd_int(dew/10);
	//lcd_string(",");
	//lcd_int(abs(dew%10));
	
	//lcd_gotoxy(0,4);
	//lcd_string("Stat:");
	//lcd_gotoxy(6,4);
	//lcd_int(refresh+=1);
}

int main( void )
{
   // napajeni ds18b20
   DDRB |= (1<<DDB0);
   PORTB |= (1<<PB0);

   lcd_init();
   _delay_ms(10);

   lcd_menu();

   while(1)
   {
      temp_in();							// teplota uvnitr
      lcd_menu();

      _delay_ms(500);
   }
}
